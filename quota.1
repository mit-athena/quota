.\" @(#)quota.1 1.1 85/12/28 SMI; from UCB 4.2
.TH QUOTA 1  "25 Jun 1991"
.UC 4
.SH NAME
quota \- display disk usage and limits
.SH SYNOPSIS
\fBquota\fP [\fB\-v\fP] [\fB\-a\fP|\fB\-f\fP filesystem [\fB\-f\fP filesystem ...] ] [\fB\-u\fP] [user] [user] ...

\fBquota\fP [\fB\-v\fP] [\fB\-a\fP|\fB\-f\fP filesystem [\fB\-f\fP filesystem ...] ] \fB\-g\fP group [group] ...
.SH DESCRIPTION
.I Quota
displays users' and groups' disk usage and limits on local and NFS
mounted file systems, as well as AFS lockers that have been attached.  If a
user or group is specified (by name or by 
id), \fIquota\fP will return information on disk usage and limits for
the given user or group (See \fBPERMISSIONS\fP below).
.LP
\fIQuota\fP, without the \fB\-a\fP or \fB\-f\fP options, only processes
those filesystems that the user has attached and to which the user has
write access at the filesystem's top-level directory.  Without any
options, \fIquota\fP displays warnings about those filesystems where
usage is over quota.  With AFS filesystems, warnings are displayed when
90% of the volume's quota has been reached.

.SH OPTIONS

.IP \fB\-a\fP
This option specifies that all attached filesystems should be processed,
irregardless of who attached them and the user's ability to write to the
filesystem.  Warnings or status messages that may result by the use of
this option do not necessarily indicate that the user may be able to
alter the usage or otherwise affect the situation.  Quota information is
a representation of a user's limits should he have write access; it does
not indicate that such write access exists.

.IP \fB\-v\fP
This option will display
usages and limits for the user and any groups the user is a member of
on all processed file systems where quotas exist, in the following
format:

.nf
.if n .in -.75in
.if n .ta 1.3i 2.0i 2.8i 3.5i 4.5i 5.2i 5.9i 6.6i
.if t .ta .9i 1.4i 2.1i 2.7i 3.4i 4.2i 4.6i 5.2i
Disk quotas for joeuser (uid 12345):
Filesystem	Type	ID	usage	quota	limit	files	quota	limit
/mit/joeuser	user	joeuser	 2394	 2000	 2400<<   313	 1000	 1200

User joeuser over disk quota on /mit/joeuser, remove 395K within 7.0 days
.ta .5in
.if n .in +.755i
.fi

On NFS or local file systems, everyone has a "soft" limit for disk space
usage (given in the first 
.B quota
column) and a
"hard" limit (given in the first
.B limit
column).  The amount of space
currently in use is shown in the
.B usage
column.  These values
are measured in kilobytes (1024 characters).

When the "soft" limit is exceeded, the
.B limit
column will be marked with \fB<<\fP, as shown above.  If the higher
"hard" limit is reached, you will no longer be able to write anything
into the directory.  Also, if you wait until the seven days time limit
runs out, then writing will not be allowed until usage has been reduced
below the soft limit, at which time the seven day timer is turned off
and reset.

In addition, there is a quota and limit on the number of inodes (files and
directories) that may exist.  Each file or directory counts as a single inode
(the sum total of which is listed in the
.B files
column).  The soft and hard
limits for inodes are similar to those for disk space usage, except that when
the "hard" limit is reached, you will not be able to create new subdirectories
or files within that filesystem.

If no quotas for the user (or groups that the user is a member of) exist
on any mounted file systems, nothing will be displayed.

In an AFS locker, there is no quota on the number of files you can
create as long as your disk usage remains under quota.

.IP \fB\-f\fP filesystem
With this option, quota information will be returned on any specified
filesystems.  The filesystem must be specified as the mount-point or as
the Hesiod name by which it was attached.  A single filesystem name
must be present with each \fB\-f\fP option.  For example, a typical
command to check one's home directory quota would be:
.nf
.ta .3i

	quota -v -f\  ~
.fi

Up to 16 `\fB\-f\fP filesystem' pairs may be specified.  If the given
filesystem name doesn't match any mounted filesystems, a suitable
error message to that effect is printed.

Note that the user will always be warned about quota problems on lockers
that are explicitly specified with -f, whether or not they have write
access to the filesystem.  Quota is a representation of limits that the
user would have should he have write access; it does not indicate if
such write access exists.

.IP \fB\-u\fP
This option will only report user quota information (ie. no group quotas), 
in the following format:

.nf
.if n .in -.75in
.if n .ta 1.3i 2.0i 2.7i 3.5i 4.5i 5.2i 5.9i 6.6i
.if t .ta .9i 1.4i 2.1i 2.7i 3.4i 4.2i 4.6i 5.2i
Disk quotas for user joeuser (uid 12345):
Filesystem	usage	quota	limit	timeleft	files	quota	limit	timeleft
/mit/joeuser	2394	2000	2400	7.0 days	313	1000	1200
.if n .in +.755i
.fi
.IP \fB\-g\fP
Similar to the \fB-u\fP option, but reports only group quota information.  At
least one group must be specified on the command line.
.SH PERMISSIONS
Normal users can only check their own user quotas and the quotas of any
group they're a member of. \fIquota -v\fP will return all such quotas on
all mounted filesystems. 

The super-user may check any user or group quota on local (non-NFS)
filesystems.  The super-user can also get quota information for users
on NFS filesystems when (1) the NFS fileserver is running the newer
Athena RPC daemon and (2) the user in question has an NFS mapping on
the server.  To get quota information on NFS filesystems for a
specific group, the super-user must have a mapping on the NFS server
to any user who is in the specified group.
.SH FILES
.nf
.ta 2i
\fIquotas\fP	quota file at the file system root
\fI/etc/qotab\fP	quota options file
\fI/var/athena/attachtab\fP	list of attached filesystems
.fi
.DT
.SH "SEE ALSO"
quotactl(2), quotaon(8), edquota(8), rquotad(8c), fs
