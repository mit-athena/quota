.\" @(#)quota.1 1.1 85/12/28 SMI; from UCB 4.2
.TH QUOTA 1  "25 Jun 1991"
.UC 4
.SH NAME
quota \- display disk usage and limits
.SH SYNOPSIS
\fBquota\fP [\fB\-v\fP] [\fB\-f\fP dirname] [\fB\-f\fP dirname] ... [user]
[user] 
.br
\fBquota\fP [\fB\-v\fP] [\fB\-f\fP dirname] [\fB\-f\fP dirname] ... \fB\-u\fP
[user] [user] ...
.br
\fBquota\fP [\fB\-v\fP] [\fB\-f\fP dirname] [\fB\-f\fP dirname] ... \fB\-g\fP
group [group] ...
.SH DESCRIPTION
.IX "quota command"  ""  "\fLquota\fP \(em display disk usage and limits"
.IX "file system"  "display disk usage and limits quota" ""  "display disk usage and limits \(em \fLquota\fP"
.IX display  "disk usage and limits quota"  ""  "disk usage and limits \(em \fLquota\fP"
.IX  "limits of disk space quota"  ""  "limits of disk space \(em \fLquota\fP"
.I Quota
displays users' and groups' disk usage and limits on local and NFS
mounted file systems, as well as AFS lockers that have been attached.  If a
user or group is specified (by name or by 
id), \fIquota\fP will return information on disk usage and limits for
the given user or group (See \fBPERMISSIONS\fP below).
.LP
.I Quota
without options displays only warnings 
about mounted file systems where usage is over quota.  As a special case,
the user will only be warned about AFS lockers if the user attached the
locker, and the mode it was attached with was 'w'.  This is done to try to
reduce the number of lockers the user is warned about that they have no
control over.
.SH OPTIONS

.IP \fB\-v\fP
This option will display
usages and limits for the user and any groups the user is a member of
on all local and NFS mounted file systems where quotas exist, in the following
format:

.nf
.if n .in -.75in
.if n .ta 1.3i 2.0i 2.8i 3.5i 4.5i 5.2i 5.9i 6.6i
.if t .ta .9i 1.4i 2.1i 2.7i 3.4i 4.2i 4.6i 5.2i
Disk quotas for joeuser (uid 12345):
Filesystem	Type	ID	usage	quota	limit	files	quota	limit
/mit/joeuser	user	joeuser	 2394	 2000	 2400<<   313	 1000	 1200

User joeuser over disk quota on /mit/joeuser, remove 395K within 7.0 days
.ta .5in
.if n .in +.755i
.fi

Additionally, it will display quota information for any AFS lockers that
have been attached.
On NFS or local file systems, everyone has a "soft" limit for disk space
usage (given in the first 
.B quota
column) and a
"hard" limit (given in the first
.B limit
column).  The amount of space
currently in use is shown in the
.B usage
column.  These values
are measured in kilobytes (1024 characters).

When the "soft" limit is exceeded, the
.B limit
column will be marked with \fB<<\fP, as shown above.  If the higher
"hard" limit is reached, you will no longer be able to write anything
into the directory.  Also, if you wait until the seven days time limit
runs out, then writing will not be allowed until usage has been reduced
below the soft limit, at which time the seven day timer is turned off
and reset.

In addition, there is a quota and limit on the number of inodes (files and
directories) that may exist.  Each file or directory counts as a single inode
(the sum total of which is listed in the
.B files
column).  The soft and hard
limits for inodes are similar to those for disk space usage, except that when
the "hard" limit is reached, you will not be able to create new subdirectories
or files within that filesystem.

If no quotas for the user (or groups that the user is a member of) exist on any
local or NFS mounted file systems, nothing will be displayed.

In an AFS locker, there is no quota on the number of files you can create as
long as your disk usage remains under quota.

.IP \fB\-f\fP dirname
With this option, quota information will be returned on any filesystems whose
mount-points begin with the given directory name.  A single directory name
must be present with each \fB\-f\fP option.  For example, a typical command to
check one's home directory quota would be:
.nf
.ta .3i

	quota -v -f\  ~
.fi

Up to 16 `\fB\-f\fP dirname' pairs may be specified.  If the given
filesystem name doesn't match any mounted filesystems, a suitable
error message to that effect is printed.

Note that the user will always be warned about quota problems on AFS lockers
that are explicitly specified with -f.

.IP \fB\-u\fP
This option will only report user quota information (ie. no group quotas), 
in the following format:

.nf
.if n .in -.75in
.if n .ta 1.3i 2.0i 2.7i 3.5i 4.5i 5.2i 5.9i 6.6i
.if t .ta .9i 1.4i 2.1i 2.7i 3.4i 4.2i 4.6i 5.2i
Disk quotas for user joeuser (uid 12345):
Filesystem	usage	quota	limit	timeleft	files	quota	limit	timeleft
/mit/joeuser	2394	2000	2400	7.0 days	313	1000	1200
.if n .in +.755i
.fi
.IP \fB\-g\fP
Similar to the \fB-u\fP option, but reports only group quota information.  At
least one group must be specified on the command line.
.SH PERMISSIONS
Normal users can only check their own user quotas and the quotas of any
group they're a member of. \fIquota -v\fP will return all such quotas on
all mounted filesystems. 

The super-user may check any user or group quota on local (non-NFS)
filesystems.  The super-user can also get quota information for users
on NFS filesystems when (1) the NFS fileserver is running the newer
Athena RPC daemon and (2) the user in question has an NFS mapping on
the server.  To get quota information on NFS filesystems for a
specific group, the super-user must have a mapping on the NFS server
to any user who is in the specified group.
.SH FILES
.nf
.ta 2i
\fIquotas\fP	quota file at the file system root
\fI/etc/qotab\fP	quota options file
\fI/usr/tmp/attachtab\fP	list of attached filesystems
.fi
.DT
.SH "SEE ALSO"
quotactl(2), quotaon(8), edquota(8), rquotad(8c), fs
